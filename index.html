<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Minara - Fixed logo lock + header swap</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{font-family:Helvetica,Arial,sans-serif;background:#fff;overflow-x:hidden;}

  /* HEADER */
  header{
    position:fixed; top:0; left:0; right:0;
    height:45px; background:rgba(255,255,255,0.95);
    display:flex; justify-content:space-between; align-items:flex-start;
    padding:4px 30px; z-index:1200; border-bottom:1px solid #eee;
  }
  .left-nav a{
    font-size:11px; text-transform:uppercase; letter-spacing:1px;
    color:#000; text-decoration:none; margin-top:2px;
  }
  nav ul{list-style:none; display:flex; margin:2px 0 0 0; padding:0;}
  nav ul li{margin-left:25px;}
  nav ul li a{font-size:11px; text-transform:uppercase; letter-spacing:1px; color:#000; text-decoration:none;}
  nav ul li a:hover{color:#666;}

  /* small header logo that appears only when main logo is off-screen */
  .header-logo {
    position:absolute;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    height:22px;
    pointer-events:none;
    opacity:0;
    transition:opacity .18s ease;
  }
  .header-logo.show { opacity:1; }

  /* HERO */
  .hero{
    margin-top:45px;
    position:relative;
    width:100vw;
    height:120vh; /* taller */
    display:flex;
    overflow:hidden;
  }
  .hero img{height:100%; object-fit:cover; object-position:center; display:block;}
  .hero img:first-child{flex:1.3;}  /* left wider */
  .hero img:last-child{flex:0.7;}   /* right narrower */

  /* MAIN LOGO */
  #logo{
    position:fixed;
    left:50%;
    top:50%;
    transform:translate(-50%,-50%);
    width:1200px; /* 3x size */
    z-index:1100;
    pointer-events:none;
    will-change:top,transform,position;
  }
  #logo img{width:100%; height:auto; display:block;}

  /* CONTENT */
  .section{padding:100px 40px; text-align:center;}
  .collections-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; margin-top:40px;}
  .collection-item{background:#f5f5f5; height:400px; display:flex; align-items:center; justify-content:center; font-size:18px; color:#888; text-transform:uppercase;}
  footer{padding:40px; text-align:center; background:#f5f5f5; font-size:12px; color:#666;}

  @media (max-width:768px){
    #logo{width:600px;}
    .hero{flex-direction:column; height:120vh;}
    .hero img{width:100%; height:50%;}
  }
</style>
</head>
<body>

<header>
  <div class="left-nav">
    <a href="#catalog">Catalog</a>
  </div>

  <!-- small header logo: hidden until main logo disappears -->
  <img id="headerLogo" class="header-logo" src="minara 5 transparent.svg" alt="Minara small">

  <nav>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="auth.html">Account</a></li>
    </ul>
  </nav>
</header>

<section id="hero" class="hero">
  <img src="test3.png" alt="Left">
  <img src="number23.png" alt="Right">
</section>

<section class="section">
  <h2>Collections</h2>
  <div class="collections-grid">
    <div class="collection-item">Collection 1</div>
    <div class="collection-item">Collection 2</div>
    <div class="collection-item">Collection 3</div>
    <div class="collection-item">Collection 4</div>
  </div>
</section>

<footer>Â© 2025 Minara5</footer>

<!-- main big logo (SVG recommended) -->
<div id="logo"><img src="minara 5 transparent.svg" alt="Minara"></div>

<script>
  (function(){
    const logo = document.getElementById('logo');
    const hero = document.getElementById('hero');
    const headerLogo = document.getElementById('headerLogo');

    // helper - returns hero bottom in document coordinates
    function heroBottomDoc() { return hero.offsetTop + hero.offsetHeight; }

    // update routine
    function updateLogo(){
      const hbDoc = heroBottomDoc();
      const scrollY = window.scrollY || window.pageYOffset;
      const vw = window.innerHeight;
      const logoRect = logo.getBoundingClientRect();
      const logoHeight = Math.round(logoRect.height);

      // center of logo in document coordinates (when centered in viewport)
      const logoCenterDocIfCentered = scrollY + (vw / 2);
      const logoBottomDocIfCentered = logoCenterDocIfCentered + (logoHeight / 2);

      // CASE A: while logo bottom (if centered) is still above hero bottom -> follow center
      if (logoBottomDocIfCentered < hbDoc - 0.5) {
        // fixed centered
        if (logo.style.position !== 'fixed' || logo.style.top !== '50%') {
          logo.style.position = 'fixed';
          logo.style.top = '50%';
          logo.style.left = '50%';
          logo.style.transform = 'translate(-50%,-50%)';
        }
      }
      // CASE B: we've reached lock point but haven't scrolled past the hero yet
      else if (scrollY <= hbDoc) {
        // lock the logo so its bottom sits exactly on hero bottom and do NOT follow when scrolling down
        // set to absolute at the exact document coordinate so it won't move while page scrolls down
        // absolute top (document coord) should be hbDoc - logoHeight
        const absoluteTop = hbDoc - logoHeight;
        if (logo.style.position !== 'absolute' || parseFloat(logo.style.top) !== absoluteTop) {
          logo.style.position = 'absolute';
          logo.style.top = absoluteTop + 'px';
          logo.style.left = '50%';
          // remove vertical translate so it sits flush (keep translateX)
          logo.style.transform = 'translateX(-50%)';
        }
      }
      // CASE C: we've scrolled past the hero completely
      else {
        // keep it absolute at same spot (it will be scrolled out of view naturally)
        const absoluteTop = hbDoc - logoHeight;
        if (logo.style.position !== 'absolute' || parseFloat(logo.style.top) !== absoluteTop) {
          logo.style.position = 'absolute';
          logo.style.top = absoluteTop + 'px';
          logo.style.left = '50%';
          logo.style.transform = 'translateX(-50%)';
        }
      }

      // Show header logo only when the big logo is NOT visible in the viewport.
      // Compute logo's viewport rect (re-get after possible style changes)
      const rect = logo.getBoundingClientRect();
      const isVisible = !(rect.bottom <= 0 || rect.top >= window.innerHeight);
      if (!isVisible) {
        headerLogo.classList.add('show');
      } else {
        headerLogo.classList.remove('show');
      }
    }

    // run on events
    window.addEventListener('scroll', updateLogo, { passive: true });
    window.addEventListener('resize', updateLogo);
    window.addEventListener('load', updateLogo);
    // SVGs/images may render after load; run a couple more times
    setTimeout(updateLogo, 150);
    setTimeout(updateLogo, 400);
  })();
</script>

</body>
</html>

