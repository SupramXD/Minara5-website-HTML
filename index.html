<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Minara5 - Shop the official store</title>

<style>
/* RESET */
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:Helvetica,Arial,sans-serif;
  background:#fff;
  overflow-x:hidden;
  color:#000;
}

/* =====================
   DESKTOP HEADER
===================== */
header{
  position:fixed;top:0;left:0;right:0;
  height:45px;
  background:rgba(255,255,255,0.95);
  display:flex;justify-content:space-between;align-items:flex-start;
  padding:4px 30px;
  z-index:1200;
  border-bottom:1px solid #eee;
}

/* DESKTOP LEFT NAV BUTTONS */
.left-nav a{
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#000;
  text-decoration:none;
  margin-top:4px;
  transition:opacity .25s ease;
}
.left-nav a:hover{opacity:0.6;}

.mobile-shopnow {
  display:none;
}

@media(max-width:900px){
  .mobile-shopnow {
    display:flex;
    align-items:center;
    gap:12px;
    position:absolute;
    top:10px;
    right:16px;
    font-size:11px;
    text-transform:uppercase;
    letter-spacing:1px;
    z-index:2000;
  }
  .mobile-shopnow a{
    color:#000;
    text-decoration:none;
  }
}

/* CART BUTTON (desktop + mobile) */
.cart-btn{
  display:flex;
  align-items:center;
  gap:5px;
  font-size:12px;
  color:#000;
  text-transform:uppercase;
  cursor:pointer;
}
.cart-btn img{
  height:16px;   /* slightly bigger */
}
.cart-btn span{
  font-size:12px; /* slightly bigger */
}

/* DESKTOP RIGHT NAV */
nav ul{list-style:none;display:flex;margin:2px 0 0 0;}
nav ul li{margin-left:25px;}
nav ul li a{
  font-size:11px;text-transform:uppercase;letter-spacing:1px;
  color:#000;text-decoration:none;display:flex;align-items:center;gap:6px;
  transition:opacity .25s ease;
}
nav ul li a:hover{opacity:0.65;}

.question-icon{height:14px;}
.desktop-icon{height:12px;}

.menu-icon{
  display:none;
  cursor:pointer;
}
.menu-icon img{
  height:14px;
}

@media(max-width:900px){
  header{
    justify-content:space-between;
    align-items:center;
    padding:6px 16px;
  }
  .menu-icon{
    display:block;
    z-index:3001 !important;
  }
}

/* =====================
   CART PANEL
===================== */
#cartPanel{
  position:fixed;
  top:45px;
  right:-100%;
  height: calc(100dvh - 45px); /* FIXES mobile cart bottom gap */
  width:65vw;
  background:#fff; /* prevents flashing site beneath */
  border-left:1px solid #dcdcdc;
  z-index:5000;
  transition:right .35s ease;
  display:flex;
  flex-direction:column;
  background:#fff; /* solid white safety layer */
  will-change:height;
  transition: right .35s ease, height .25s ease;


}
/* prevents visual flashing under cart on mobile */
@media(max-width:900px){
  #cartPanel{
    background:#fff; /* solid white base */
    overflow:hidden; /* stops momentary reveal */
  }
}
/* White safety background — mobile only, cart open only */
@media(max-width:900px){
  #cartPanel.open::after{
    content:"";
    position:absolute;
    left:0;
    right:0;
    bottom:0;
    height:140px; /* safe buffer, never visible unless needed */
    background:#fff;
    z-index:-1; /* stays behind all cart content */
  }
}






@media(min-width:901px){
  #cartPanel{width:26vw;}
}
#cartPanel.open{right:0;}

.cart-header-row{
  background:#fff;
  border-bottom:1px solid #dcdcdc;
  padding:12px 20px;
  font-size:11px;
  text-transform:uppercase;
  display:flex;
  justify-content:space-between;
}
.cart-close{cursor:pointer;}

.cart-ascii-wrap{
  padding:12px 20px;
  border-bottom:1px solid #dcdcdc;
  background:#fafafa;
}
.cart-ascii{
  font-family:monospace;
  font-size:9px;
  white-space:pre;
  line-height:1.1;
}
@media(max-width:900px){
  .cart-ascii{
    font-size:8.5px; /* 5% smaller */
  }
}


.cart-body{
  padding:16px 20px;
  font-size:11px;
}
.cart-auth-links{
  display:flex;
  gap:30px;
  margin-top:8px;
}
.cart-auth-links a{
  font-size:11px;
  text-transform:uppercase;
  color:#000;
  text-decoration:none;
}

.cart-bottom{
  margin-top:auto;
}
.cart-section{
  padding:12px 20px;
  border-top:1px solid #dcdcdc;
  font-size:11px;
  text-transform:uppercase;
}

/* HERO */
.hero{
  margin-top:45px;
  position:relative;
  width:100vw;
  height:120vh;
  display:flex;
  overflow:hidden;
}
.hero img{
  height:100%;
  object-fit:cover;
  display:block;
  transition:opacity .3s ease, filter .3s ease;
}
.hero img:first-child{flex:1.3;}
.hero img:last-child{flex:0.7;}
#imgL,#imgR{cursor:pointer;}

/* Dark overlay on hover (desktop only) */
@media(min-width:901px){
  #imgL, #imgR{
    position:relative;
  }

  #imgL::after, #imgR::after{
    content:"";
    position:absolute;
    top:0;left:0;
    width:100%;height:100%;
    background:rgba(0,0,0,0); /* default transparent */
    pointer-events:none;
    transition:background .3s ease;
  }

  #imgL:hover::after, #imgR:hover::after{
    background:rgba(0,0,0,0.20); /* 20% opacity overlay */
  }

  /* Keep your original brightness too */
  #imgL:hover, #imgR:hover{
    filter:brightness(0.93); /* darker than before */
  }
}







/* BIG LOGO */
#logo{
  position:fixed;
  left:50%;
  transform:translate(-50%,0);
  width:1200px;
  z-index:900;
  pointer-events:none;
}
#logo img{width:100%;}

/* DESKTOP GIFTS */
#bagsContainer{position:relative;width:100%;height:0;}
#bagsBtn{
  position:fixed;
  top:48px;
  left:30px;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#000;
  text-decoration:none;
  z-index:900;
  transition:opacity .25s ease;
}
#bagsBtn:hover{
  opacity:0.8 !important;
}
#shopNow{
  opacity:0;
  margin-left:4px;
  left:6px;
  position:relative;
  transition:opacity .3s ease,left .3s ease;
  pointer-events:auto;
}

/* MOBILE GIFTS */
.mobile-bags{
  display:none;
  position:absolute;
  top:20px;left:20px;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:1px;
  z-index:900;
}
.mobile-bags a{color:#000;text-decoration:none;}

/* SLIDEOUT MENU */
.slideout{
  position:fixed;
  top:0;
  left:-100%;
  width:100%;
  height:100vh;
  background:#fff;
  z-index:5000;
  transition:left .35s ease;
  padding:50px 40px 40px;
}
.slideout.open{left:0;}
.close-btn{
  position:absolute;
  top:18px;
  right:24px;
  font-size:30px;
  cursor:pointer;
}
.slideout a{
  display:block;
  font-size:14px;
  text-transform:uppercase;
  letter-spacing:0.28em;
  margin:26px 0;
  color:#000;
  text-decoration:none;
}

@media(max-width:900px){
  .desktop-only{display:none !important;}
  nav ul li:nth-child(3){display:none !important;} /* Hide desktop cart */
  nav ul li a{display:none !important;}
  #bagsBtn{display:none;}

  .hero{display:block;height:auto;}
  .hero img{width:100%;height:auto;}

  #logo img.mobile-logo{display:block;}
  #logo img.desktop-logo{display:none;}

  #logo{width:auto;max-width:88vw;max-height:36vh;}

  .mobile-bags{display:block;}
}

@media(min-width:901px){
  .menu-icon{display:none;}
  #logo img.mobile-logo{display:none;}
  #logo img.desktop-logo{display:block;}
}

/* BRAND SECTION */
.brand-section{
  padding:80px 40px 110px;
  max-width:900px;
  margin:0 auto;
}
.brand-title{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:0.28em;
  margin-bottom:22px;
}
.brand-body{
  max-width:620px;
  font-size:12.8px;
  line-height:1.7;
  opacity:0.92;
  white-space:pre-line;
  letter-spacing:0.18em;
}
.brand-body p{margin-bottom:28px;}

@media(max-width:900px){
  #imgL { content:url('number23.avif'); }
  #imgR { content:url('test3.avif'); }

  .brand-body{
    white-space:normal;
    letter-spacing:0.12em;
    line-height:1.6;
  }
}

/* FOOTER */
footer{
  background:#f5f5f5;
  padding:21px 0;
  text-align:center;
  font-size:9px;
  color:#000;
  text-transform:uppercase;
  letter-spacing:0.20em;
}

</style>
</head>
<body>

<header id="topbar">
  <div class="left-nav">
      <div class="mobile-shopnow">
        <a href="catalog.html">SHOP NOW</a>

        <!-- MOBILE CART (only one now) -->
        <span class="cart-btn" onclick="openCart()">
          <img src="cart.svg">
          <span id="cartCountHeaderMobile">00</span>
        </span>
      </div>

      <a href="catalog.html" class="desktop-only">CATALOG</a>
      <a href="catalog.html" class="desktop-only" style="margin-left:22px;">BAGS</a>
      <a href="social media.html" class="desktop-only" style="margin-left:22px;">SOCIALS</a>

      <div class="menu-icon" onclick="openMenu()"><img src="menu.svg"></div>
  </div>

  <nav>
    <ul>
      <li><a href="contact.html"><img src="question mark.svg" class="question-icon"> Contact</a></li>
      <li><a href="auth.html"><img src="head shoulder.svg" class="desktop-icon"> Account</a></li>

      <!-- DESKTOP CART (hidden on mobile) -->
      <li class="desktop-only">
        <span class="cart-btn" onclick="openCart()">
          <img src="cart.svg">
          <span id="cartCountHeader">00</span>
        </span>
      </li>
    </ul>
  </nav>
</header>

<!-- CART PANEL -->
<div id="cartPanel">
  <div class="cart-header-row">
    <span>BAG <span id="cartCountPanel">00</span></span>
    <span class="cart-close" onclick="closeCart()">X CLOSE</span>
  </div>

  <div class="cart-ascii-wrap">
    <div class="cart-ascii">


 _____   __  __   ____    _____  __   __
| ____| |  \/  | |  _ \  |_   _| \ \ / /
|  _|   | |\/| | | |_) |   | |    \ V / 
| |___  | |  | | |  __/    | |     | |  
|_____| |_|  |_| |_|       |_|     |_|  

 
    </div>
  </div>

  <div class="cart-body">
    <p>Missing items in your cart?</p>
    <p>Sign in to see items you added before.</p>
    <div class="cart-auth-links">
      <a href="#">Sign in</a>
      <a href="#">Register</a>
    </div>
  </div>

  <div class="cart-bottom">
    <div class="cart-section">Shipping</div>
    <div class="cart-section">Total</div>
    <div class="cart-section">Payment</div>
  </div>
</div>

<div class="slideout" id="menuPanel">
  <div class="close-btn" onclick="closeMenu()">×</div>
  <a href="catalog.html">Catalog</a>
  <a href="social media.html">Social Media</a>
  <a href="contact.html">Contact</a>
  <a href="auth.php">Login</a>
</div>

<div id="bagsContainer">
  <a id="bagsBtn" href="bags.html">
    GIFTS <span id="shopNow">'SHOP NOW</span>
  </a>
</div>

<section id="hero" class="hero">
  <img src="test3.avif" id="imgL">
  <div style="position:relative;flex:0.7%;">
    <img src="number23.avif" id="imgR" style="width:100%;height:100%;object-fit:cover;">
    <div class="mobile-bags"><a href="bags.html">GIFTS 'SHOP NOW</a></div>
  </div>
</section>

<section class="brand-section">
  <h2 class="brand-title">MINARA5</h2>

  <div class="brand-body">
    <p>
Nonconformity, is a desire rooted in the heart  
of this south african generation.

Minara is the hearts quiet awakening,  
whilst others line up for the approved path,  
she minara - simply refuses the script.

<p>
To the world she's a question without an answer..  
To herself she is the only version  
that ever made sense.
    </p>
  </div>
</section>

<footer>© 2025 MINARA5</footer>

<div id="logo">
  <img src="minara 5 transparent.svg" class="mobile-logo">
  <img src="minara 5 transparent 2.svg" class="desktop-logo">
</div>

<script>
/* ORIGINAL JS WITH ADDED BEHAVIOUR */
(function(){
  const hero=document.getElementById('hero');
  const imgL=document.getElementById('imgL');
  const imgR=document.getElementById('imgR');
  const bagsBtn=document.getElementById('bagsBtn');
  const shopNow=document.getElementById('shopNow');
  const logo=document.getElementById('logo');
  const topbar=document.getElementById('topbar');
  const isMobile=()=>window.matchMedia('(max-width:900px)').matches;

  let heroBottom=0;
  let imgRBottom=0;

  function measure(){
    heroBottom=hero.offsetTop+hero.offsetHeight-45;
    imgRBottom=window.scrollY+imgR.getBoundingClientRect().bottom;
  }

  function update(){
    const y=window.scrollY;

    if(!isMobile()){
      const fixed=48;
      const h=bagsBtn.offsetHeight;
      const bottom=y+fixed+h;

      if(bottom>=heroBottom+45){
        bagsBtn.style.position='absolute';
        bagsBtn.style.top=(heroBottom-h)+'px';
      } else {
        bagsBtn.style.position='fixed';
        bagsBtn.style.top=fixed+'px';
      }

      const rect=logo.getBoundingClientRect();
      const H=rect.height;
      const vh=window.innerHeight;
      const lock=y+vh/2+H/2>=heroBottom;

      if(lock){
        logo.style.position='absolute';
        logo.style.top=(heroBottom-H)+'px';
        logo.style.transform='translateX(-50%)';
      } else {
        logo.style.position='fixed';
        logo.style.top='50%';
        logo.style.transform='translate(-50%,-50%)';
      }

      return;
    }

    const br=topbar.getBoundingClientRect();
    let top=y+br.bottom+60;

    const r2=logo.getBoundingClientRect();
    const lockPt=imgRBottom-r2.height-10;

    if(top>lockPt) top=lockPt;

    logo.style.position='absolute';
    logo.style.top=top+'px';
    logo.style.left='50%';
    logo.style.transform='translateX(-50%)';
  }

  window.addEventListener('scroll',update);
  window.addEventListener('resize',()=>{measure();update();});
  window.addEventListener('load',()=>{measure();update();});
  setTimeout(()=>{measure();update();},80);


  /* =======================
       IMAGE CLICK → catalog
     ======================= */
  imgL.onclick=()=>window.location.href="catalog.html";
  imgR.onclick=()=>window.location.href="catalog.html";

  /* =======================
       HOVER → SHOW SHOP NOW
     ======================= */

  function showShopNow(){
    shopNow.style.opacity="1";
    shopNow.style.left="0";
  }
  function hideShopNow(){
    shopNow.style.opacity="0";
    shopNow.style.left="6px";
    shopNow.textContent="'SHOP NOW"; /* reset spacing */
  }

  imgL.addEventListener("mouseenter", showShopNow);
  imgL.addEventListener("mouseleave", hideShopNow);

  bagsBtn.addEventListener("mouseenter", showShopNow);
  bagsBtn.addEventListener("mouseleave", hideShopNow);

  /* When hovering GIFTS or SHOP NOW → add 2 spaces */
  function addSpaces(){
    shopNow.textContent="  'SHOP NOW";
  }
  function removeSpaces(){
    shopNow.textContent="'SHOP NOW";
  }

  bagsBtn.addEventListener("mouseenter", addSpaces);
  shopNow.addEventListener("mouseenter", addSpaces);

  bagsBtn.addEventListener("mouseleave", removeSpaces);
  shopNow.addEventListener("mouseleave", removeSpaces);

})();

/* MENU */
function openMenu(){document.getElementById("menuPanel").classList.add("open");}
function closeMenu(){document.getElementById("menuPanel").classList.remove("open");}

/* CART */
function openCart(){document.getElementById("cartPanel").classList.add("open");}
function closeCart(){document.getElementById("cartPanel").classList.remove("open");}
function updateCartCount(count){
  const v = count < 10 ? "0"+count : count;
  ["cartCountHeader","cartCountHeaderMobile","cartCountPanel"].forEach(id=>{
    const el=document.getElementById(id);
    if(el) el.textContent=v;
  });
}
/* REAL mobile cart height fix */
function updateCartHeight(){
  const panel = document.getElementById("cartPanel");
  if(!panel) return;
  
  const vh = window.visualViewport ? window.visualViewport.height : window.innerHeight;
  panel.style.height = `calc(${vh}px - 45px)`;
}

if (window.visualViewport){
  visualViewport.addEventListener("resize", updateCartHeight);
  visualViewport.addEventListener("scroll", updateCartHeight);
}

window.addEventListener("load", updateCartHeight);
window.addEventListener("orientationchange", updateCartHeight);

/* Smooth mobile cart height adjustment */
let cartHeightTimeout = null;

function updateCartHeightSmooth(){
  clearTimeout(cartHeightTimeout);

  cartHeightTimeout = setTimeout(() => {
    const panel = document.getElementById("cartPanel");
    if(!panel) return;

    const vh = window.visualViewport ? window.visualViewport.height : window.innerHeight;

    panel.style.height = `calc(${vh}px - 45px)`;
  }, 60); // short delay = smoother animation, no flash
}

if(window.visualViewport){
  visualViewport.addEventListener("resize", updateCartHeightSmooth);
  visualViewport.addEventListener("scroll", updateCartHeightSmooth);
}

window.addEventListener("orientationchange", updateCartHeightSmooth);
window.addEventListener("load", updateCartHeightSmooth);


</script>

</body>
</html>
