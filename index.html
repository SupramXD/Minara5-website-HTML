<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Minara - Fashion Brand</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{font-family:Helvetica,Arial,sans-serif;background:#fff;overflow-x:hidden;}

  header{
    position:fixed;top:0;left:0;right:0;height:45px;
    background:rgba(255,255,255,0.95);
    display:flex;justify-content:space-between;align-items:flex-start;
    padding:4px 30px;z-index:1200;border-bottom:1px solid #eee;
  }
  .left-nav a{font-size:11px;text-transform:uppercase;letter-spacing:1px;color:#000;text-decoration:none;margin-top:2px;}
  nav ul{list-style:none;display:flex;margin:2px 0 0 0;padding:0;}
  nav ul li{margin-left:25px;}
  nav ul li a{font-size:11px;text-transform:uppercase;letter-spacing:1px;color:#000;text-decoration:none;}
  nav ul li a:hover{color:#666;}

  .header-logo{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);
    height:22px;pointer-events:none;opacity:0;transition:opacity .25s ease;}
  .header-logo.show{opacity:1;}

  .hero{margin-top:45px;position:relative;width:100vw;height:120vh;display:flex;overflow:hidden;}
  .hero img{height:100%;object-fit:cover;object-position:center;display:block;}
  .hero img:first-child{flex:1.3;}
  .hero img:last-child{flex:0.7;}

  #logo{
    position:fixed;left:50%;top:50%;
    transform:translate(-50%,-50%);
    width:1200px;z-index:900;pointer-events:none;
  }
  #logo img{width:100%;height:auto;display:block;}

  .section{padding:100px 40px;text-align:center;}
  .collections-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-top:40px;}
  .collection-item{background:#f5f5f5;height:400px;display:flex;align-items:center;justify-content:center;font-size:18px;color:#888;text-transform:uppercase;}
  footer{padding:40px;text-align:center;background:#f5f5f5;font-size:12px;color:#666;}

  @media (max-width:900px){
    .hero{display:block;height:auto;overflow:visible;}
    .hero img{width:100%;height:auto;object-fit:contain;display:block;}
    #logo{width:auto;max-width:88vw;max-height:36vh;}
  }
</style>
</head>
<body>

<header>
  <div class="left-nav"><a href="#catalog">Catalog</a></div>
  <img id="headerLogo" class="header-logo" src="minara 5 transparent.svg" alt="Minara small">
  <nav>
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="auth.html">Account</a></li>
    </ul>
  </nav>
</header>

<section id="hero" class="hero">
  <img src="test3.png" alt="Left" id="imgL">
  <img src="number23.png" alt="Right" id="imgR">
</section>

<section class="section">
  <h2>Collections</h2>
  <div class="collections-grid">
    <div class="collection-item">Collection 1</div>
    <div class="collection-item">Collection 2</div>
    <div class="collection-item">Collection 3</div>
    <div class="collection-item">Collection 4</div>
  </div>
</section>

<footer>Â© 2025 Minara5</footer>

<div id="logo"><img src="minara 5 transparent.svg" alt="Minara"></div>

<script>
(() => {
  const logo = document.getElementById('logo');
  const hero = document.getElementById('hero');
  const headerLogo = document.getElementById('headerLogo');

  let heroTop = 0, heroBottom = 0;
  let urlBarHidden = false;
  let detachScrollY = 0;       // scroll position when URL bar hides
  let detachLogoTop = 0;       // logo's document Y position at detach

  function measureHero() {
    heroTop = hero.offsetTop;
    heroBottom = heroTop + hero.offsetHeight;
  }
  measureHero();

  // detect URL bar hide/show
  if (window.visualViewport) {
    let lastH = window.visualViewport.height;
    window.visualViewport.addEventListener('resize', () => {
      const h = window.visualViewport.height;
      if (h - lastH > 40 && !urlBarHidden) {
        // entering hidden state
        urlBarHidden = true;
        // record where the logo currently is in document space
        detachScrollY = window.scrollY;
        const rect = logo.getBoundingClientRect();
        detachLogoTop = rect.top + window.scrollY;
      }
      if (lastH - h > 40 && urlBarHidden) {
        // returning to visible
        urlBarHidden = false;
      }
      lastH = h;
    });
  }

  function updateLogo() {
    const scrollY = window.scrollY || window.pageYOffset;
    const vh = window.innerHeight;
    const logoH = logo.getBoundingClientRect().height;
    const logoCenterDoc = scrollY + vh / 2;
    const logoBottomDoc = logoCenterDoc + logoH / 2;

    // --- 1. HERO LOCK AND NORMAL BEHAVIOR ---
    if (!urlBarHidden) {
      // locked to hero point while URL bar visible
      const offsetWithinHero = scrollY - heroTop;
      const lockY = heroTop + offsetWithinHero + vh/2 - logoH/2;
      logo.style.position = 'absolute';
      logo.style.top = lockY + 'px';
      logo.style.left = '50%';
      logo.style.transform = 'translateX(-50%)';
    } else {
      // --- 2. DETACHED FOLLOW BEHAVIOR ---
      const shift = scrollY - detachScrollY;
      const newY = detachLogoTop + shift;
      // stop moving once we reach hero bottom lock
      const lockLimit = heroBottom - logoH - 1;
      const finalY = Math.min(newY, lockLimit);
      logo.style.position = 'absolute';
      logo.style.top = finalY + 'px';
      logo.style.left = '50%';
      logo.style.transform = 'translateX(-50%)';
    }

    // show small header logo when big one off-screen
    const r = logo.getBoundingClientRect();
    const visible = !(r.bottom <= 0 || r.top >= window.innerHeight);
    headerLogo.classList.toggle('show', !visible);
  }

  let ticking = false;
  function requestUpdate() {
    if (!ticking) {
      requestAnimationFrame(() => { updateLogo(); ticking = false; });
      ticking = true;
    }
  }

  window.addEventListener('scroll', requestUpdate, { passive: true });
  window.addEventListener('resize', () => { measureHero(); requestUpdate(); });
  window.addEventListener('orientationchange', () => { measureHero(); requestUpdate(); });
  window.addEventListener('load', () => { measureHero(); requestUpdate(); });
})();
</script>

</body>
</html>
