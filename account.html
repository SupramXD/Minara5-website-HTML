<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MINARA5 — Account</title>

<style>
/* =========================================================
   RESET + PAGE FOUNDATION
========================================================= */
*{margin:0;padding:0;box-sizing:border-box;}

html, body {
    height: 100%;
}

body{
  display:flex;
  flex-direction:column;
  font-family:Helvetica,Arial,sans-serif;
  background:#fff;
  overflow-x:hidden;
  color:#000;
}

/* =========================================================
   HEADER — NEW 3-COLUMN HIGH-FASHION LAYOUT
========================================================= */

header{
  position:fixed;
  top:0; left:0; right:0;
  height:60px !important; /* thicker header */
  background:rgba(255,255,255,0.96);
  border-bottom:1px solid #eee;
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
  padding-left:29px !important;
  padding-right:29px !important;
  z-index:1200;
}

.header-left,
.header-right {
    align-items: flex-start !important;
    padding-top: 0 !important;
    margin-top: -29px !important; /* fine-tune vertical alignment */
}


.header-left{
  display:flex;
  align-items:center;
  gap:27px !important;
}

.header-left a{
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:1px;
  color:#000;
  text-decoration:none;
}

.menu-icon{
  display:none;
  cursor:pointer;
}
.menu-icon img{height:14px;}

.mobile-shopnow{display:none;}
.mobile-shopnow a{
  font-size:11px;
  text-transform:uppercase;
  color:#000;
  text-decoration:none;
}

/* CENTER LOGO */
.header-center{
  display:flex;
  justify-content:center;
}
.header-logo{
  width:190px !important;
  pointer-events:none;
  user-select:none;
}

/* RIGHT SIDE */
.header-right{
  display:flex;
  justify-content:flex-end;
  align-items:center;
}
.header-right ul{
  list-style:none;
  display:flex;
  gap:27px !important;
}
.header-right ul li a{
  font-size:11px;
  text-transform:uppercase;
  color:#000;
  text-decoration:none;
  display:flex;
  align-items:center;
  gap:6px;
}

/* Icons */
.desktop-icon{height:12px;}
.question-icon{height:14px;}

/* CART BUTTON */
.cart-btn{
  display:flex;
  gap:4px;
  align-items:center;
  cursor:pointer;
}
.cart-btn img{height:16px;}
.cart-btn span{font-size:12px;}

/* MOBILE HEADER */
@media(max-width:900px){
  header{
    grid-template-columns:auto 1fr auto;
  }
  .header-left a.desktop-only{display:none;}
  .header-right ul li a.desktop-only{display:none;}
  .menu-icon{display:block;}
  .mobile-shopnow{display:block; position:absolute; top:22px; left:65px;}
}
/* REMOVE DESKTOP ACCOUNT ICON ON MOBILE */
.header-account{
  display:none;
}
@media(max-width:900px){
  .header-left,
  .header-right{
    width:0;
    padding:0;
  }
}


/* SMALLER LOGO ON MOBILE */
@media(max-width:900px){
  .header-logo{
    width:110px !important;
  }
}



/* =========================================================
   CART PANEL
========================================================= */
#pageDimmer{
  position:fixed; inset:0;
  background:rgba(0,0,0,0.32);
  backdrop-filter:blur(1.4px);
  opacity:0; pointer-events:none;
  transition:opacity .25s;
  z-index:9000;
}
#pageDimmer.active{opacity:1;pointer-events:auto;}

#cartPanel{
  position:fixed;
  top:0; right:-100%;
  height:100vh;
  width:65vw;
  background:#fff;
  border-left:1px solid #dcdcdc;
  z-index:10000;
  display:flex;
  flex-direction:column;
  transition:right .35s ease;
  overflow:hidden;
}
@media(min-width:901px){#cartPanel{width:26vw;}}
#cartPanel.open{right:0;}

.cart-header-row{
  background:#fff;
  padding:14px 20px;
  border-bottom:1px solid #dcdcdc;
  font-size:11px;
  text-transform:uppercase;
  display:flex; justify-content:space-between;
}
.cart-close{cursor:pointer;}

.cart-ascii-wrap{padding:12px 20px;border-bottom:1px solid #dcdcdc;background:#fafafa;}
.cart-ascii{
  white-space:pre;
  font-family:monospace;
  font-size:9px;
  line-height:1.1;
}

.cart-body{padding:16px 20px;font-size:11px;}
.cart-auth-links{display:flex;gap:30px;margin-top:8px;}
.cart-auth-links a{text-decoration:none;color:#000;text-transform:uppercase;font-size:11px;}

.cart-bottom{margin-top:auto;}
.cart-section{
  padding:12px 20px;
  border-top:1px solid #dcdcdc;
  font-size:11px;
  text-transform:uppercase;
}

/* =========================================================
   MOBILE MENU PANEL
========================================================= */
.slideout{
  position:fixed;
  top:0; left:-100%;
  width:100%; height:100vh;
  background:#fff;
  z-index:5000;
  transition:left .35s;
  padding:50px 40px 40px;
}
.slideout.open{left:0;}

.close-btn{
  position:absolute; top:18px; right:24px;
  font-size:30px; cursor:pointer;
}

.slideout a{
  display:block;
  font-size:14px;
  text-transform:uppercase;
  letter-spacing:0.28em;
  margin:26px 0;
  color:#000;
  text-decoration:none;
}

/* =========================================================
   ACCOUNT PAGE LAYOUT
========================================================= */
.wrapper{
  max-width:420px;
  margin:140px auto 60px;
  padding:0 20px;
}

h1{
  font-size:26px;
  font-weight:600;
  text-align:center;
  letter-spacing:2px;
  margin-bottom:40px;
}

/* INTRO (DIOR STYLE) */
.account-intro{
  margin-bottom:50px;
  font-size:13px;
  letter-spacing:0.3px;
}

.intro-title{
  font-size:18px;
  font-weight:500;
  margin-bottom:8px;
}

.intro-location{
  font-size:12px;
  margin-bottom:16px;
}

.change-location{
  color:#000;
  text-decoration:underline;
  cursor:pointer;
}

.intro-benefits{
  list-style:none;
  font-size:12px;
  line-height:1.7;
}
.intro-benefits li::before{content:"— ";}

/* LOGIN & REGISTER BOXES */
.box{
  border:1px solid #000;
  padding:30px;
  margin-bottom:40px;
  display:none;
}

.box-title{
  font-size:14px;
  text-transform:uppercase;
  letter-spacing:1.5px;
  margin-bottom:20px;
}

input{
  width:100%;
  padding:12px 14px;
  margin-top:12px;
  border:none;
  border-bottom:1px solid #000;
  background:transparent;
  font-size:14px;
  outline:none;
}

button{
  margin-top:28px;
  width:100%;
  padding:14px 0;
  background:#000;
  color:#fff;
  letter-spacing:1.5px;
  border:none;
  cursor:pointer;
}
button:hover{opacity:0.85;}

#user-info{
  display:none;
  text-align:center;
  margin-top:40px;
  font-size:14px;
}

/* =========================================================
   FOOTER — FIXED TO BOTTOM
========================================================= */
footer{
  margin-top:auto !important;
  background:#f5f5f5;
  padding:21px 0;
  text-align:center;
  font-size:9px;
  letter-spacing:0.2em;
  text-transform:uppercase;
}
/* ================================
   ACCOUNT DROPDOWN (FINAL VERSION)
=================================== */

.header-account .account-trigger {
    display: flex;
    align-items: center;
    gap: 6px;
    cursor: pointer;
}

.account-label {
    color: #000 !important;
    font-size: 11px !important;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-decoration: none !important;
    line-height: 1;
    user-select: none;
}

/* Dropdown box */
.acc-dropdown {
    position: absolute;
    top: 48px; /* your header height */
    right: 20px;
    width: 220px;
    background: #fff;
    border: 1px solid #cfcfcf;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    display: none;
    z-index: 9999;
}

.acc-head {
    padding: 12px 14px;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 1px;
    border-bottom: 1px solid #000;
    display: flex;
    justify-content: space-between;
    text-transform: uppercase;
}

.acc-close {
    cursor: pointer;
}

/* Menu items */
.acc-item {
    display: block;
    padding: 12px 14px;
    font-size: 11px;
    letter-spacing: 1px;
    text-transform: uppercase;
    color: #000 !important;
    text-decoration: none !important;
    border-bottom: 1px solid #eee;
}

.acc-item:hover {
    background: #f7f7f7;
}
@media (max-width:900px){

  .mobile-account-block{
    margin-top:26px;
  }

  .mobile-account-link{
    display:flex;
    align-items:center;
    justify-content:space-between;
    font-size:14px;
    text-transform:uppercase;
    letter-spacing:0.28em;
    margin:26px 0;
    cursor:pointer;
    color:#000;
    -webkit-tap-highlight-color:transparent;
    user-select:none;
  }

  .mobile-arrow{
    margin-left:8px;
    font-size:14px;
    transition:transform .25s ease;
    pointer-events:none;
  }

  .mobile-arrow.open{
    transform:rotate(90deg);
  }

  .mobile-account-dropdown{
    margin-top:14px;
  }

  .mobile-account-dropdown .acc-item{
    background:#f4f4f4;
    margin:10px 0;
    padding:16px 18px;
    border:none;
    font-size:13px;
    letter-spacing:0.22em;
  }

  .mobile-account-link.logout{
    margin-top:66px;
  }
}
/* MOBILE ACCOUNT BUTTON */
.mobile-account{
  font-size:14px;
  text-transform:uppercase;
  letter-spacing:0.28em;
  margin:26px 0;
  color:#000;
  cursor:pointer;
  user-select:none;
}

</style>
</head>
<body>

<!-- =========================================================
     HEADER (FUNCTIONAL)
========================================================= -->
<header id="topbar">
  

  <!-- LEFT -->
  <div class="header-left">
      <div class="menu-icon" onclick="openMenu()"><img src="menu.svg"></div>
      
      <a href="catalog.html" class="desktop-only">CATALOG</a>
      <a href="catalog.html" class="desktop-only">BAGS</a>
      <a href="social media.html" class="desktop-only">SOCIALS</a>
  </div>

  <!-- CENTER -->
  <div class="header-center">
    <a href="index.html">
      <img src="minara 5 transparent 2.svg" class="header-logo">
      </a>
  </div>

  <!-- RIGHT -->
  <div class="header-right">
      <ul>
        <li><a href="contact.html" class="desktop-only"><img src="question mark.svg" class="question-icon">Contact</a></li>
        <li class="header-account">
    <div class="account-trigger" onclick="accountClicked(event)">
        <img src="head shoulder.svg" class="desktop-icon">
        <span id="accountLabel" class="account-label">ACCOUNT</span>
    </div>
</li>

        <li>
          <span class="cart-btn" onclick="openCart()">
            <img src="cart.svg">
            <span id="cartCountHeader">00</span>
          </span>
        </li>
      </ul>
  </div>

</header>
<div id="accountDropdown" class="acc-dropdown">
    <div class="acc-head">
        <span id="accName">ACCOUNT</span>
        <span class="acc-close" onclick="closeAccDropdown()">X CLOSE</span>
    </div>

    <a href="accountorder.html" class="acc-item">MY ORDERS</a>
    <a href="#" onclick="logout()" class="acc-item">LOG OUT</a>
</div>


<!-- =========================================================
     CART PANEL + MENU
========================================================= -->
<div id="pageDimmer"></div>

<div id="cartPanel">
  <div class="cart-header-row">
    <span>BAG <span id="cartCountPanel">00</span></span>
    <span class="cart-close" onclick="closeCart()">X CLOSE</span>
  </div>

  <div class="cart-ascii-wrap">
    <div class="cart-ascii">
 _____   __  __   ____    _____  __   __
| ____| |  \/  | |  _ \  |_   _| \ \ / /
|  _|   | |\/| | | |_) |   | |    \ V / 
| |___  | |  | | |  __/    | |     | |  
|_____| |_|  |_| |_|       |_|     |_|  
    </div>
  </div>

  <div class="cart-body">
    <p>Missing items in your cart?</p>
    <p>Sign in to see items you added before.</p>

    <div class="cart-auth-links">
      <a href="account.html">Sign in</a>
      <a href="account.html">Register</a>
    </div>
  </div>

  <div class="cart-bottom">
    <div class="cart-section">Shipping</div>
    <div class="cart-section">Total</div>
    <div class="cart-section">Payment</div>
  </div>
</div>

<div class="slideout" id="menuPanel">
  <div class="close-btn" onclick="closeMenu()">×</div>
  <a href="catalog.html">Catalog</a>
  <a href="social media.html">Social Media</a>
  <a href="contact.html">Contact</a>
  <div class="mobile-account-block">

  <div
    id="mobileMyAccount"
    class="mobile-account-link"
  >
    LOGIN
  </div>

  <div
    id="mobileAccountDropdown"
    class="mobile-account-dropdown"
  ></div>

  <div
    id="mobileLogout"
    class="mobile-account-link logout"
    style="display:none;"
  >
    LOG OUT
  </div>

</div>

</div>

<!-- =========================================================
     MAIN ACCOUNT CONTENT
========================================================= -->
<div class="wrapper">

  <h1>ACCOUNT</h1>

  <!-- INTRO SECTION -->
  <div class="account-intro">
      <h2 class="intro-title">Sign in or register</h2>

      <div class="intro-location">
        South Africa, <a class="change-location">Change location</a>
      </div>

      <ul class="intro-benefits">
        <li>Priority access to new collections</li>
        <li>Eligible to exclusive events and gifting</li>
        <li>Easily track your orders and returns</li>
        <li>Pre-access to sale</li>
        <li>Priority shipping</li>
      </ul>
  </div>

  <!-- LOGIN -->
  <div id="login-box" class="box">
      <div class="box-title">LOGIN</div>
      <input id="login-email" type="email" placeholder="Email">
      <input id="login-password" type="password" placeholder="Password">
      <button onclick="login()">SIGN IN</button>
      <p style="margin-top:20px;font-size:13px;cursor:pointer;" onclick="showRegister()"><a href="register.html">CREATE AN ACCOUNT</a></p>
  </div>

  <!-- REGISTER -->
  <div id="register-box" class="box">
      <div class="box-title">CREATE ACCOUNT</div>
      <input id="register-email" type="email" placeholder="Email">
      <input id="register-password" type="password" placeholder="Password">
      <button onclick="register()">REGISTER</button>
      <p style="margin-top:20px;font-size:13px;cursor:pointer;" onclick="showLogin()">Back to login</p>
  </div>

  <!-- LOGGED IN -->
  <div id="user-info">
      Logged in as <span id="user-email"></span><br><br>
      <button onclick="logout()">LOG OUT</button>
  </div>

</div>

<footer>© 2025 MINARA5</footer>


<!-- =========================================================
     CART + MENU JS
========================================================= -->
<script>
function openCart(){
  document.getElementById('cartPanel').classList.add('open');
  document.getElementById('pageDimmer').classList.add('active');
  document.body.style.overflow='hidden';
}
function closeCart(){
  document.getElementById('cartPanel').classList.remove('open');
  document.getElementById('pageDimmer').classList.remove('active');
  document.body.style.overflow='';
}
document.getElementById('pageDimmer').addEventListener('click', closeCart);

function updateCartCount(n){
  const v=n<10?'0'+n:String(n);
  document.getElementById('cartCountHeader').textContent=v;
  document.getElementById('cartCountPanel').textContent=v;
}

function openMenu(){document.getElementById("menuPanel").classList.add("open");}
function closeMenu(){document.getElementById("menuPanel").classList.remove("open");}
</script>


<!-- =========================================================
     FIREBASE AUTH
========================================================= -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { 
  getAuth,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  signOut,
  onAuthStateChanged
} from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

/* FIREBASE CONFIG */
const firebaseConfig = {
    apiKey: "AIzaSyC8srbzH_DcCYQJXe9MNOyy2OHZSaLidIo",
    authDomain: "minara5.firebaseapp.com",
    projectId: "minara5",
    storageBucket: "minara5.firebasestorage.app",
    messagingSenderId: "860405871052",
    appId: "1:860405871052:web:2aead90773c24721f72d69",
    measurementId: "G-2M9B3NS032"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

function showLogin(){
  document.getElementById("login-box").style.display="block";
  document.getElementById("register-box").style.display="none";
  document.getElementById("user-info").style.display="none";
}

function showRegister(){
  document.getElementById("login-box").style.display="none";
  document.getElementById("register-box").style.display="block";
  document.getElementById("user-info").style.display="none";
}

window.register = function(){
  const email=document.getElementById("register-email").value;
  const password=document.getElementById("register-password").value;

  createUserWithEmailAndPassword(auth,email,password)
    .then(()=>{
      alert("Account created!");
      showLogin();
    })
    .catch(err=>alert(err.message));
}


window.login = function(){
  const email = document.getElementById("login-email").value;
  const password = document.getElementById("login-password").value;

  signInWithEmailAndPassword(auth, email, password)
    .then(() => {
      // Redirect happens immediately upon successful login
      window.location.href = "index.html";
    })
    .catch(err => alert(err.message));
}

onAuthStateChanged(auth, (user) => {
  if (user) {
      // If a user is already logged in and visits account.html, 
      // send them to index or show their info.
      // If you want them to stay on the page to see "Logged in as...", keep this:
      document.getElementById("login-box").style.display = "none";
      document.getElementById("register-box").style.display = "none";
      document.getElementById("user-info").style.display = "block";
      document.getElementById("user-email").textContent = user.email;
  } else {
      showLogin();
  }
});
</script>
<script type="module" src="header.js"></script>


</body>
</html>
